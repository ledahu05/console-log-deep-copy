<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Console Log Deep Copy - Test Page</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
      background: #f5f5f5;
    }

    h1 {
      color: #333;
    }

    .section {
      background: white;
      padding: 20px;
      margin: 20px 0;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    button {
      background: #4caf50;
      color: white;
      border: none;
      padding: 10px 20px;
      margin: 5px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
    }

    button:hover {
      background: #45a049;
    }

    .info {
      background: #e3f2fd;
      padding: 15px;
      border-radius: 4px;
      border-left: 4px solid #2196f3;
    }

    pre {
      background: #f5f5f5;
      padding: 10px;
      border-radius: 4px;
      overflow-x: auto;
    }
  </style>
</head>

<body>
  <h1>Console Log Deep Copy - Test Page</h1>

  <div class="info">
    <strong>Instructions:</strong>
    <ol>
      <li>Open your browser's DevTools (F12)</li>
      <li>Click the buttons below to generate console logs</li>
      <li>Open the extension popup</li>
      <li>Try filtering with "some pattern", "test data", or "error"</li>
      <li>Click "Copy All" to deep copy filtered logs</li>
    </ol>
  </div>

  <div class="section">
    <h2>Test Buttons</h2>
    <button onclick="logSimplePattern()">Log with "some pattern"</button>
    <button onclick="logComplexData()">Log Complex Objects</button>
    <button onclick="logArrays()">Log Arrays</button>
    <button onclick="logErrors()">Log Errors</button>
    <button onclick="logMixed()">Log Mixed Types</button>
    <button onclick="generateMany()">Generate 50 Logs</button>
  </div>

  <div class="section">
    <h2>What gets logged:</h2>
    <div id="output"></div>
  </div>

  <script>
    function logSimplePattern() {
      console.log('some pattern', { id: 1, data: [1, 2, 3] });
      console.log('some pattern', { id: 2, data: [4, 5, 6] });
      console.log('some pattern', { id: 3, nested: { deep: { value: 'test' } } });
      updateOutput('Logged 3 messages with "some pattern"');
    }

    function logComplexData() {
      const complexObj = {
        user: {
          name: 'John Doe',
          age: 30,
          address: {
            street: '123 Main St',
            city: 'Springfield',
            coordinates: { lat: 40.7128, lng: -74.0060 }
          }
        },
        items: [
          { id: 1, name: 'Item 1', price: 10.99 },
          { id: 2, name: 'Item 2', price: 25.50 }
        ],
        metadata: {
          timestamp: new Date().toISOString(),
          version: '1.0.0'
        }
      };
      console.log('test data', complexObj);
      updateOutput('Logged complex nested object');
    }

    function logArrays() {
      console.log('test data', [1, 2, 3, 4, 5]);
      console.log('test data', ['apple', 'banana', 'cherry']);
      console.log('test data', [
        { id: 1, name: 'First' },
        { id: 2, name: 'Second' },
        { id: 3, name: 'Third' }
      ]);
      updateOutput('Logged 3 different array types');
    }

    function logErrors() {
      console.error('error message', { code: 500, message: 'Server error' });
      console.warn('warning', { severity: 'medium', description: 'This is a warning' });
      console.error('error message', new Error('Something went wrong'));
      updateOutput('Logged errors and warnings');
    }

    function logMixed() {
      console.log('mixed types', 'string', 123, true, null, undefined);
      console.info('info message', { type: 'info', data: 'Information' });
      console.debug('debug message', { debugging: true, values: [1, 2, 3] });
      updateOutput('Logged mixed types and levels');
    }

    function generateMany() {
      for (let i = 0; i < 50; i++) {
        if (i % 3 === 0) {
          console.log('some pattern', { iteration: i, value: Math.random() });
        } else if (i % 3 === 1) {
          console.log('test data', { iteration: i, array: [i, i + 1, i + 2] });
        } else {
          console.log('other message', { iteration: i });
        }
      }
      updateOutput('Generated 50 log entries');
    }

    function updateOutput(message) {
      const output = document.getElementById('output');
      const timestamp = new Date().toLocaleTimeString();
      output.innerHTML += `<p><strong>${timestamp}:</strong> ${message}</p>`;
    }

    // Log some initial data when page loads
    console.log('Test page loaded');
    console.log('some pattern', {
      message: 'Initial log with pattern',
      timestamp: new Date().toISOString(),
      testData: [1, 2, 3]
    });

    updateOutput('Page loaded - check DevTools console and open the extension!');
  </script>
</body>

</html>
